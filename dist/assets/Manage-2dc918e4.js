import{a as i}from"./apiMoviesDB-b8e6b402.js";import{_ as p,o as n,c as r,F as c,r as m,a as t,b as a,t as d}from"./index-ab352757.js";const h={name:"ManageRating",data(){return{moviesFound:{}}},async mounted(){try{this.moviesFound=await i.findMovies("userId",localStorage.getItem("userId")),this.moviesFound.sort((e,o)=>o.rating-e.rating)}catch(e){console.error("Error:",e.message)}},methods:{async deleteMovie(e){try{console.log(e),i.deleteMovie(e),window.location.reload()}catch(o){console.error("Error:",o.message)}}}},g={class:"card mb-3",style:{"max-width":"800px"}},v={class:"row g-0"},y={class:"col-md-4"},b=["src"],f={class:"col-md-8"},M={class:"card-body"},k={class:"card-title"},w={class:"card-text"},$=["onClick"],F=["onClick"];function x(e,o,C,B,l,_){return n(),r(c,null,[(n(!0),r(c,null,m(l.moviesFound,s=>(n(),r("div",{key:s,class:"movie-cards"},[t("div",g,[t("div",v,[t("div",y,[t("img",{src:s.poster,class:"img-fluid rounded-start",alt:"..."},null,8,b)]),t("div",f,[t("div",M,[t("h5",k,d(s.name),1),t("h6",null,"Мой рейтинг: "+d(s.rating),1),t("p",w,d(s.descr),1),t("div",null,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:a(u=>_.deleteMovie(s._id),["prevent"]),style:{"margin-right":"1rem",width:"40%"}}," Удалить фильм ",8,$),t("button",{type:"button",class:"btn btn-outline-primary",style:{width:"40%"},onClick:a(u=>e.$router.push({name:"update",params:{id:s._id}}),["prevent"])}," Изменить рейтинг ",8,F)])])])])])]))),128)),t("button",{type:"button",class:"btn btn-primary add-button",onClick:o[0]||(o[0]=a(s=>e.$router.push({name:"add-movie"}),["prevent"]))}," Добавить фильм ")],64)}const D=p(h,[["render",x],["__scopeId","data-v-4a2c0373"]]);export{D as default};
