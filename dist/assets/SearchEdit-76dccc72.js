import{a as n}from"./apiMovies-3ef3a362.js";import{a as m}from"./apiMoviesDB-b8e6b402.js";import{_ as d,o as c,c as p,a as o,t as l,w as h,v,b as i,p as u,d as g}from"./index-ab352757.js";const _={name:"SearchEdit",data(){return{movieData:{},movieRating:""}},async mounted(){try{this.movieData=await n.getMovie(this.$route.params.id),console.log(this.movieData)}catch(e){console.error("Error:",e.message)}},methods:{async addToDB(){try{await m.addMovie({name:this.movieData.nameRu,descr:this.movieData.description,poster:this.movieData.posterUrl,userId:localStorage.getItem("userId"),rating:parseFloat(this.movieRating)}),this.$router.push({name:"manage"})}catch(e){console.error("Error:",e.message)}}}},y=e=>(u("data-v-c921ee0b"),e=e(),g(),e),D={class:"rating-form"},b={class:"mb-3"},f=y(()=>o("h5",{style:{"margin-bottom":"3%"}},"Ваш рейтинг:",-1));function w(e,t,S,B,r,s){return c(),p("form",D,[o("div",b,[o("h4",null,l(r.movieData.nameRu),1),f,h(o("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=a=>r.movieRating=a),style:{width:"500px"}},null,512),[[v,r.movieRating]]),o("button",{class:"btn btn-secondary",style:{"margin-top":"1rem","margin-right":"2%",width:"20%"},onClick:t[1]||(t[1]=i(a=>e.$router.push({name:"search-result"}),["prevent"]))}," Назад "),o("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=i((...a)=>s.addToDB&&s.addToDB(...a),["prevent"])),style:{"margin-top":"1rem","margin-right":"2%",width:"20%"}}," Добавить ")])])}const M=d(_,[["render",w],["__scopeId","data-v-c921ee0b"]]);export{M as default};
